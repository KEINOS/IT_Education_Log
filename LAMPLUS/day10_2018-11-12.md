20181112 教育内容

10:00 - 12:30, 13:30 - 19:00

## 復習

- Freenom + GitHub Pages
    - A レコードなどがあやふや
        - `dig` コマンド
    - DNSキャッシュサーバー（DNS とキャッシュの併用では Google や CloudFlare が有名）
- 初期化とは
    - 変数, インスタンスなど、使える状態にするために最初に行うこと全般を言う

- コマンドのオプション
    - ショートオプションとロングオプション
    - 10/15 参照
    - bash などの場合
        - "-?" は１文字で指定するオプション（ショートオプション）
        - "--??????" はロングオプション
    - プログラム言語によって "-?????" という実装も可能ではあるが、習慣として "-" の場合は１文字の引数をとる

- パスを通す
    - Windows の場合と、Linux（bash）の場合の違い
    - パスが通ったかも確認すること
        - 環境変数の "Path" にパスを記載していなかった（Anaconda の scripts のみに通していた）

## 用語（Web 制作）

- ドメイン
    - lamplus.ml
        - ml 内に属した、lamplus というホスト（TLD(トップレベルドメイン) は ml）
    - yahoo.co.jp
        - jp 内の co に属した、yahoo というホスト（TLDは jp.co）
    - サブドメイン
        - www.lamplus.ml
            - 自宅のラズパイのWebサーバーに割り当て
        - blog.lamplus.ml
            - 自宅の Win のWebサーバー + Wordpress に割り当て
        - www も blog も同じ自宅のルーターのグローバルIP
            - ルーターから内部（ローカル）IP がわからない（転送先がわからない）
            - 家庭用ルーターではリクエストされたドメインから判断できない
            - ポート指定を使う（ポートフォーワード）
                - www.lamplus.ml:80 → 192.168.1.10:80
                - blog.lamplus.ml:8080 → 192.168.1.11:80
    - ドメイン取得から反映に時間がかかる理由
        - 権威サーバー（TLD）の変更内容が世界中のキャッシュサーバーに反映される時間
        - 端末 A ではアクセスできるのに、端末 B ではアクセスできないなどが発生する

- 「プチケーキー効果」
    - 例
        - Freshdeli.jp
    - 条件
        - 喫茶店で集客のためにサービス品を出すことにした
        - 予算的に一口サイズのケーキ（プチケーキ）しか出せない
    - 要望
        - どうやればこれを周知させ効果を出せるか
    - PR（アピール）方法案
        1. 外の看板でアピール
        2. 別紙メニューでアピール
        3. 看板やメニューではアピールせず、オーダー取るときにサプライズ的な案内
        4. インスタ、Twitter(口コミ)
        5. Facebookやホームページでお知らせ
    - 答え：3 小さなサプライズ効果のこと
        - 他のでは NG （違う）理由
            - プチだから
                - 看板などでアピールすると期待して入るから →「ほんとうにプチやんけ」
                - 想定内
        - 実例（Freshdeli.jpの場合）
            - ホームページはダサい → リピーターにやさしい作りになっている
            - これでこの値段 → 実物は大きい。会議やパーティーにはいいかも。
            - ∴ リピーターに繋がっている（意外な年商につながっている）
    - 期待値が上がった状態から、みとめられるのは難しい

## VPN

自宅のラズパイに VPN サーバーを建てると、自宅からアクセスしているのと同じ状態にできる。
外部 →(VPN + WAN) → ルーター → (LAN) → ラズパイ → (LAN) → ルーター → 外部サイト

- softeather
    - Dynamic DNS も提供してくれる
    - lamplusXXXX.softether.com → ルーターのグローバルIPに割り当て（DDNS）

## 余り（余算、剰余算、mod）

- プログラミンではよく使う
- 限られた範囲でループを繰り返す場合
    - ゲーム：キャラが画面右端に進むと、左端に戻る（ボンバーマンやパックマンのような動き）
    - 決められた個数のループ
        - 例：Max が 3 の場合、0,1,2,0,1,2,0...とループさせたい場合など

## マジックナンバー

- 何でその数値が出てきたのかわからない数値のこと
- 配列、リストなどを扱うときの "-1" などは用途が明確なのでマジックナンバーではない

## BuzzFizz

- 1〜100までの数字で
    - 3 で割り切れば "Fizz!" を返し
    - 5 で割り切れば "Buzz!" を返す
    - 3 と 5 で割り切れば "Fizz!Buzz!" を返す
- 色々な書き方があるので調べてみて写経すること

## 三項演算子

- 三項演算子は、１つの演算で３つの項目を記載する方法
- Python では一般的ではないが、他の言語ではよく出てくる

    ```
    <?php
    $a = 'hoge';
    if($a === 'hoge'){
        echo 'Is hoge';
    }else{
        echo 'Not hoge';
    }
    ```
    ```
    <?php
    echo ($a === 'hoge') ? 'Is hoge' : 'Not hoge';
    ```

    ```
    #python
    a = 'hoge'
    if a == 'hoge':
        print('Is hoge')
    else:
        print('Not hoge')
    ```

    ```
    a = 'hoge'
    b = 'Is hoge' if a == 'hoge' else 'Not hoge'
    print(b)
    ```

```
(値) = （条件が True の場合の戻り値） if （条件） else （条件が False の場合の戻り値）
```

- メリット：短くかける（シンプルに記載できる）
- デメリット：長いと可読性が悪くなる（複雑な処理に見える）
- 積極的に使うものではないが、多言語ではよく使われるので注意
    - 使われる場所
        - 変数の初期化など

```
世代 = 'オヤジ' if age > 40 else '青年'
世代 = 'オヤジ' if age > 40 else '中年' if age > 30 else '青年' ...（以下同文）
```

## インスタンスとオブジェクトとクラス

- クラス → たいやきの型
- オブジェクト → 型から作られるもの（たいやき）
- インスタンス → 実際に作られたもの（焼きあがった手元のたいやき）
- クラス内の変数 → プロパティ
- self.xxx → クラス関数（メソッド）外にアクセスしたい場合
    ```
    class hoge:
        name = ''
        def setName(str):
            name = str + 'in' # def 内のみ
            self.name = str + 'out' # インスタンス内のみ
    ```

    ```
    class hoge:
        name=''
        def setName(string):
            self.name = string
        def printName(self):
            print(self.name)

    fuga = hoge
    fuga.setName('hogehoge')
    fuga.printName()

    piyo = hoge
    piyo.setName('piyopiyo')
    piyo.printName()
    ```

## Unit テスト

- 関数やクラス、もしくはその複合のスクリプトが条件を網羅するかのテスト
- テストクラスを作成して、関数やオブジェクトに引数を渡し、結果が想定されたものであるかテストする
- unittest 標準ライブラリ
- メリット
    - 仕様を網羅しているか（テストを書いていれば）確認できる
    - （テストを書くのが面倒臭いので）関数 or メソッドの動きに余計な機能/処理を盛り込まなくなる
        - 理想の関数
            - 関数名から想定できる動きをすること
            - 想定される戻り値であること
- デメリット
    - テストを書くのが面倒臭い
    - 全体が出来上がっていく**モチベーション**に繋げづらい
        - 納期が厳しいのが普通な組織では嫌がられる
    - クライアント目線でスピード感がない
        - 営業寄りの開発者は嫌がる（クライアントに進捗報告が下手な営業）

- チャーハン的な作り方向き
    - 下ごしらえを大事にするという意味

- 個人開発で習慣づけるのは難しい（理想的な開発であるため、モチベーションを保ちづらい）
    - 作ったパーツ（テストをパスした関数）を組み立てるにも技術が必要

- 10/19 の内容を参照


### hoge と foo

- 日本語圏： hoge, fuga, piyo
- 英語圏： foo, bar

## 次回課題

### train_Muscle の仕上げの準備

剰余算でリファクタしよう

```python
def get_name_muscle_next(name_muscle_last): #次回部位の特定
    name_muscle_part = ['前側', '下半身', '後側']
    if name_muscle_last == name_muscle_part[0]: 
        return name_muscle_part[1]
    elif name_muscle_last == name_muscle_part[1]:
        return name_muscle_part[2]
    elif name_muscle_last == name_muscle_part[2]:
        return name_muscle_part[0]
    else:
        print('不正な部位です')
        exit()
```

### VPN サーバの立ち上げ

- 自宅のラズパイに Softether で VNP サーバーを建てて、VPN 接続できるようにする
    - 携帯の VPN 経由で自宅の VPN にアクセスできるようにする





